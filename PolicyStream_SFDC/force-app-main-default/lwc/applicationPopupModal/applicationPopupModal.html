<template>
    <lightning-card title="Customer Community Portal">
        <p>&nbsp;&nbsp;LWC Component</p>
        <br />
        &nbsp;&nbsp;Name of Agent:
        <br />
        <lightning-record-edit-form object-api-name="Applicant_Details__c">
            <lightning-input type="Date" label="&nbsp;&nbsp;From Date" value={start_date} name="startdate"
                onchange={startDateHandler}></lightning-input>
            <lightning-input type="Date" label="&nbsp;&nbsp;To Date" value={end_date} name="enddate"
                onchange={endDateHandler}></lightning-input>
            <br />
            &nbsp;&nbsp;<lightning-button variant="brand" label="Search" icon-name="utility:search"
                onclick={buttonHandler}></lightning-button>


            <template lwc:if={showAppFlag}>
                <!--POP UP MODAL STARTS-->
                <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01"
                    class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                            title="Close" onclick={closeButtonHandler}>
                            <lightning-icon icon-name="utility:close" size="small" alternative-text="close"
                                variant="inverse"></lightning-icon>
                            <span class="slds-assistive-text">Cancel and close</span>
                        </button>
                        <div class="slds-modal__header">
                            <h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Popup Modal</h1>
                        </div>
                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">

                            <!-- DATA TABLE STARTS -->
                            <lightning-datatable 
                            key-field="Id" 
                            data={appList} 
                            columns={appColumns}
                            draft-values={draftValues}
                            >
                            </lightning-datatable>
                            <!-- DATA TABLE END -->

                        </div>
                        <div class="slds-modal__footer">

                            <button class="slds-button slds-button_brand" onclick={closeButtonHandler}
                                aria-label="Cancel and close">Close</button>
                        </div>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open"></div>
                <!--POP UP MODAL END-->
            </template>
        </lightning-record-edit-form>
    </lightning-card>
</template>